<!DOCTYPE html><html lang="zh-TW"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style-dark.css?v=2.0.4"><link rel="stylesheet" type="text/css" href="/css/highlight-dark.css?v=2.0.4"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="stylesheet" type="text/css" href="https://unpkg.com/gitalk/dist/gitalk.css?v=2.0.4"><title>JSON的奧秘與應用時機(Part 4) | 廢言集</title><meta name="generator" content="Hexo 4.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JSON的奧秘與應用時機(Part 4)</h1><a id="logo" href="/.">廢言集</a><p class="description">從理想到實現</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首頁</i></a><a href="/archives/"><i class="fa fa-archive"> 所有文章</i></a><a href="/about/"><i class="fa fa-user"> 關於</i></a><a href="/atom.xml"><i class="fa fa-rss"> 訂閱</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">JSON的奧秘與應用時機(Part 4)</h1><div class="post-meta"><a href="/2020/02/28/JSON%E7%9A%84%E5%A5%A7%E7%A7%98%E8%88%87%E6%87%89%E7%94%A8%E6%99%82%E6%A9%9F(Part%204)/#comments" class="comment-count"></a><p><span class="date">Feb 28, 2020</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>點擊</i></i></span></p></div><div class="post-content"><p>228連假開始了，終於有空寫一點文章了，最近在工作上有些不順心，不知道是不是職業倦怠，但對於寫程式的熱忱我依舊沒放棄，其實我很開心我有一群碼農夥伴可以交流，不然我可能會一直怠惰下去吧！</p>
<p>其實這個章節主要結合前端+後端的應用，在前幾章節簡單的介紹了JSON，可能對於新手會有些困難，但也歡迎有興趣或是覺得有更不錯的寫法等，都可以寄信或留言做交流</p>
<h2 id="起手式"><a href="#起手式" class="headerlink" title="起手式"></a>起手式</h2><p>這次主要製作一頁會員列表中的會員狀態，在撰寫之前先擬定幾個步驟</p>
<ol>
<li>擬定資料庫內容SQL</li>
<li>製作HTML 頁面內容</li>
<li>寫後端程式給前端做處理</li>
</ol>
<h2 id="建立資料庫"><a href="#建立資料庫" class="headerlink" title="建立資料庫"></a>建立資料庫</h2><p>起手式，先建立資料庫及資料表，新增【啟用、未啟用、停用、黑名單、過期】等資料，其餘的資料可供未來加以使用。</p>
<blockquote>
<p><strong>資料庫名稱: api</strong> [color=#ffb85e]</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> <span class="string">`api`</span> <span class="keyword">DEFAULT</span> </span><br><span class="line"><span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8 </span><br><span class="line"><span class="keyword">COLLATE</span> utf8_general_ci;</span><br><span class="line"><span class="keyword">USE</span> <span class="string">`api`</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>資料表名稱: basic_option_value</strong> [color=#ffb85e]</p>
</blockquote>
<table>
<thead>
<tr>
<th>中文名稱</th>
<th>欄位代號</th>
<th>備註</th>
</tr>
</thead>
<tbody><tr>
<td>編號</td>
<td>id</td>
<td>主鍵(Primary Key)</td>
</tr>
<tr>
<td>名稱</td>
<td>name</td>
<td></td>
</tr>
<tr>
<td>對應群組代號</td>
<td>group_code</td>
<td>用在每一個選項屬於自己的群組</td>
</tr>
<tr>
<td>選項值</td>
<td>value</td>
<td></td>
</tr>
<tr>
<td>狀態</td>
<td>status</td>
<td>未來可能這個選項暫停不用</td>
</tr>
<tr>
<td>排序</td>
<td>sort</td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`api`</span>.<span class="string">`basic_option_value`</span> ( </span><br><span class="line">  <span class="string">`id`</span> <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">'編號'</span> , </span><br><span class="line">  <span class="string">`name`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'名稱'</span>,</span><br><span class="line">  <span class="string">`group_code`</span> <span class="built_in">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'對應群組代號'</span>,</span><br><span class="line">  <span class="string">`value`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'選項值'</span>,</span><br><span class="line">  <span class="string">`status`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'狀態'</span>,</span><br><span class="line">  <span class="string">`sort`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'排序'</span></span><br><span class="line">) <span class="keyword">ENGINE</span>=MyISAM <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>資料表資料</strong> [color=#ffb85e]</p>
</blockquote>
<p><img src="https://i.imgur.com/Q5XB4t3.png" alt=""></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`basic_option_value`</span> </span><br><span class="line">        (<span class="string">`id`</span>, <span class="string">`name`</span>, <span class="string">`group_code`</span>, <span class="string">`value`</span>, <span class="string">`status`</span>, <span class="string">`想sort`</span>) </span><br><span class="line"><span class="keyword">VALUES</span>  (<span class="number">1</span>, <span class="string">'顯示'</span>, <span class="string">'status'</span>, <span class="string">'1'</span>, <span class="string">'1'</span>, <span class="number">1</span>),</span><br><span class="line">        (<span class="number">2</span>, <span class="string">'隱藏'</span>, <span class="string">'status'</span>, <span class="string">'2'</span>, <span class="string">'1'</span>, <span class="number">2</span>),</span><br><span class="line">        (<span class="number">3</span>, <span class="string">'啟用'</span>, <span class="string">'account_status'</span>, <span class="string">'1'</span>, <span class="string">'1'</span>, <span class="number">1</span>),</span><br><span class="line">        (<span class="number">4</span>, <span class="string">'未啟用'</span>, <span class="string">'account_status'</span>, <span class="string">'2'</span>, <span class="string">'1'</span>, <span class="number">2</span>),</span><br><span class="line">        (<span class="number">5</span>, <span class="string">'停用'</span>, <span class="string">'account_status'</span>, <span class="string">'3'</span>, <span class="string">'1'</span>, <span class="number">3</span>),</span><br><span class="line">        (<span class="number">6</span>, <span class="string">'黑名單'</span>, <span class="string">'account_status'</span>, <span class="string">'4'</span>, <span class="string">'1'</span>, <span class="number">4</span>),</span><br><span class="line">        (<span class="number">7</span>, <span class="string">'過期'</span>, <span class="string">'account_status'</span>, <span class="string">'5'</span>, <span class="string">'1'</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure>


<h2 id="建立整個網頁的檔案"><a href="#建立整個網頁的檔案" class="headerlink" title="建立整個網頁的檔案"></a>建立整個網頁的檔案</h2><ul>
<li>index.php</li>
<li>style.css</li>
<li>style.js</li>
<li>user.php</li>
<li>config.php</li>
<li>jquery_ajax.php</li>
</ul>
<h2 id="前端程式的布局"><a href="#前端程式的布局" class="headerlink" title="前端程式的布局"></a>前端程式的布局</h2><h3 id="製作HTML頁面-index-php"><a href="#製作HTML頁面-index-php" class="headerlink" title="製作HTML頁面 (index.php)"></a>製作HTML頁面 (index.php)</h3><p>※ 我們會先撈狀態列資料做呈現</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">    &#x2F;&#x2F; 引入頁面一開始的資料</span><br><span class="line">    require_once &quot;user.php&quot;;</span><br><span class="line">?&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang&#x3D;&quot;zh-Hant-TW&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1.0&quot;&gt;</span><br><span class="line">        &lt;title&gt;w3HexSchool 鼠年全馬鐵人挑戰 - JSON的奧秘與應用時機(Part 4)&lt;&#x2F;title&gt;</span><br><span class="line">        &lt;!-- 引入自己的CSS檔 --&gt;</span><br><span class="line">        &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;style.css&quot;&gt;</span><br><span class="line">        &lt;!-- JQuery 3.4.1 --&gt;</span><br><span class="line">        &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;https:&#x2F;&#x2F;code.jquery.com&#x2F;jquery-3.4.1.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">        &lt;!-- 按鈕的AJAX動作 --&gt;</span><br><span class="line">        &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;style.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">    &lt;&#x2F;head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;container&quot;&gt;</span><br><span class="line">            &lt;h2&gt;JSON的奧秘與應用時機(Part 4)&lt;&#x2F;h2&gt;</span><br><span class="line">            &lt;table&gt;</span><br><span class="line">                &lt;thead&gt;</span><br><span class="line">                    &lt;tr&gt;</span><br><span class="line">                        &lt;th&gt;編號&lt;&#x2F;th&gt;</span><br><span class="line">                        &lt;th&gt;帳號&lt;&#x2F;th&gt;</span><br><span class="line">                        &lt;th&gt;姓名&lt;&#x2F;th&gt;</span><br><span class="line">                        &lt;th&gt;群組&lt;&#x2F;th&gt;</span><br><span class="line">                        &lt;th&gt;狀態&lt;&#x2F;th&gt;</span><br><span class="line">                    &lt;&#x2F;tr&gt;</span><br><span class="line">                &lt;&#x2F;thead&gt;</span><br><span class="line">                &lt;tbody&gt;</span><br><span class="line">                    &lt;tr&gt;</span><br><span class="line">                        &lt;td&gt;1&lt;&#x2F;td&gt;</span><br><span class="line">                        &lt;td&gt;abc20200301@gmail.com&lt;&#x2F;td&gt;</span><br><span class="line">                        &lt;td&gt;小黑&lt;&#x2F;td&gt;</span><br><span class="line">                        &lt;td&gt;管理部&lt;&#x2F;td&gt;</span><br><span class="line">                        &lt;td&gt;&lt;?php echo $value; ?&gt;&lt;&#x2F;td&gt;</span><br><span class="line">                    &lt;&#x2F;tr&gt;</span><br><span class="line">                &lt;&#x2F;tbody&gt;</span><br><span class="line">            &lt;&#x2F;table&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;body&gt;</span><br><span class="line">&lt;&#x2F;html&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/NSZ9JJS.png" alt=""></p>
<h3 id="套用表格所需的樣式-style-css"><a href="#套用表格所需的樣式-style-css" class="headerlink" title="套用表格所需的樣式(style.css)"></a>套用表格所需的樣式(style.css)</h3><p>其實這部分，我只是做一個簡單的編排，其實可以透過一些HTML框架來去做，可能會比我現在自己刻程式碼來的好。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@charset</span> <span class="string">"utf-8"</span>;</span><br><span class="line"><span class="selector-tag">h2</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1170px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: auto;</span><br><span class="line">    <span class="attribute">margin-left</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span>&#123;</span><br><span class="line">    <span class="attribute">border-spacing</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> &gt; <span class="selector-tag">th</span>,</span><br><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">tr</span> &gt; <span class="selector-tag">td</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#CCC</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.status_btn</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#6d6969</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#FFF</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.status_btn</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn_1</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#39bc0a</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn_2</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#989898</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn_3</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#FF0000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn_4</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.btn_5</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ff00d8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/R8TEkPO.png" alt=""></p>
<h2 id="後端程式的處理"><a href="#後端程式的處理" class="headerlink" title="後端程式的處理"></a>後端程式的處理</h2><h3 id="建立資料庫連線-config-php"><a href="#建立資料庫連線-config-php" class="headerlink" title="建立資料庫連線(config.php)"></a>建立資料庫連線(config.php)</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// 資料庫連線資訊</span></span><br><span class="line">$DB_HOST = <span class="string">"localhost"</span>;</span><br><span class="line">$DB_NAME = <span class="string">"api"</span>;</span><br><span class="line">$DB_USER = <span class="string">"root"</span>;</span><br><span class="line">$DB_PASSWORD = <span class="string">""</span>;</span><br><span class="line">$DB_PORT = <span class="string">"3306"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MySQLi，物件導向的方式</span></span><br><span class="line">$DB_LINK = <span class="keyword">new</span> mysqli($DB_HOST,$DB_USER,$DB_PASSWORD,$DB_NAME,$DB_PORT);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 檢查連線是否正常 列印錯誤日誌 ※mysqli_connect_error() 是顯示連線錯誤訊息</span></span><br><span class="line"><span class="keyword">if</span>($DB_LINK-&gt;connect_error)&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">"錯誤代碼"</span> . $DB_LINK-&gt;connect_errno </span><br><span class="line">    . <span class="string">'。錯誤訊息為：'</span>. $DB_LINK-&gt;connect_error);</span><br><span class="line">    <span class="keyword">exit</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">// 印出SQL資訊</span></span><br><span class="line">    <span class="comment">// echo "Connect Successfully. Host info: " . $DB_LINK-&gt;host_info;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 設定連線編碼為utf8</span></span><br><span class="line">$DB_LINK -&gt; query(<span class="string">"SET NAMES 'utf8'"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 選擇要操作的資料庫</span></span><br><span class="line">$DB_LINK -&gt; select_db(<span class="string">"api"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 關閉連線</span></span><br><span class="line">$DB_LINK-&gt;close();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="載入HTML頁面前的程序-user-php"><a href="#載入HTML頁面前的程序-user-php" class="headerlink" title="載入HTML頁面前的程序(user.php)"></a>載入HTML頁面前的程序(user.php)</h3><p>在還沒進入到index.php的頁面時，我們要先將頁面的值做讀取載入，讓資料庫資料呈現在頁面上，下面程式碼$val 變數是假設每一筆資料為啟用狀態，這單元主要為了展現JSON可以如何運用，所以只做狀態的處理。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="comment">// 引入資料庫設定檔</span></span><br><span class="line">    <span class="keyword">require_once</span> <span class="string">"config.php"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** 預設啟用狀態</span></span><br><span class="line"><span class="comment">     * 啟用：1</span></span><br><span class="line"><span class="comment">     * 未啟用：2</span></span><br><span class="line"><span class="comment">     * 停用：3</span></span><br><span class="line"><span class="comment">     * 黑名單：4</span></span><br><span class="line"><span class="comment">     * 過期：5</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    $val = <span class="string">"1"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 設定Where 條件為啟用</span></span><br><span class="line">    $sql = <span class="string">'SELECT * FROM `basic_option_value` WHERE group_code="account_status" and status="1" and `value`="'</span>.$val.<span class="string">'"'</span>;</span><br><span class="line">    $DB = $DB_LINK-&gt;query($sql);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 將資料寫入陣列</span></span><br><span class="line">    <span class="keyword">while</span>($row = $DB-&gt;fetch_assoc())&#123;</span><br><span class="line">        $result = $row;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    $data_option = <span class="keyword">array</span>(   </span><br><span class="line">                        <span class="string">'id'</span>=&gt;$result[<span class="string">'id'</span>],</span><br><span class="line">                        <span class="string">'name'</span>=&gt;$result[<span class="string">'name'</span>],</span><br><span class="line">                        <span class="string">'code'</span>=&gt;$result[<span class="string">'group_code'</span>],</span><br><span class="line">                        <span class="string">'value'</span>=&gt;$result[<span class="string">'value'</span>],</span><br><span class="line">                        <span class="string">'sort'</span>=&gt;$result[<span class="string">'sort'</span>]</span><br><span class="line">                    );</span><br><span class="line">                    </span><br><span class="line">    <span class="comment">// 將我們所需要的值拼湊成一個JSON資料</span></span><br><span class="line">    $value = <span class="string">'&lt;span class="status_btn change_check btn_'</span>.$result[<span class="string">'sort'</span>].<span class="string">'" data-status=\''</span>.str_replace(<span class="string">"'"</span>,<span class="string">"\\'"</span>,json_encode($data_option)).<span class="string">'\' &gt;'</span>.$data_option[<span class="string">'name'</span>].<span class="string">'&lt;/span&gt;'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<p>以下為上方程式印出$value的結果 </p>
<p>圖1<br><img src="https://i.imgur.com/vWu6ase.png" alt=""></p>
<p>圖2<br><img src="https://i.imgur.com/KcbVL0p.png" alt=""></p>
<h2 id="前端與後端程式的聯絡"><a href="#前端與後端程式的聯絡" class="headerlink" title="前端與後端程式的聯絡"></a>前端與後端程式的聯絡</h2><h3 id="建立按鈕的AJAX動作-style-js"><a href="#建立按鈕的AJAX動作-style-js" class="headerlink" title="建立按鈕的AJAX動作 (style.js)"></a>建立按鈕的AJAX動作 (style.js)</h3><p>AJAX 是現在網站開發很重要的腳色，他利用原本存在的技術(JavaScript、XML、非同步)組合而成，那很多人一定有疑問，那AJAX只能用非同步而已嗎？其實並不是，當然也可以做到同步，但在於每個設計面會有不同的設計模式，所以大部分的開發都會以非同步去使用。未來有機會我們會在做AJAX的解說與使用。</p>
<h4 id="ajax-不專業的解說"><a href="#ajax-不專業的解說" class="headerlink" title="$.ajax()不專業的解說"></a>$.ajax()不專業的解說</h4><p>.ajax()中內容可能有些人能理解，但不能理解的部分我稍微簡單做解說，將url值jquery_ajax.php做發送請求所返回的值，而返回的值都使以JSON格式返回，後面的.done()表示$.ajax()執行成功時則執行.done()，如果$.ajax()執行錯誤(請求失敗、語法寫作等)則.done()不做執行。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">"span.change_check"</span>).on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> now_btn = $(<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">var</span> status_info = $(<span class="keyword">this</span>).data(<span class="string">'status'</span>);</span><br><span class="line">        <span class="keyword">var</span> id = status_info.id;</span><br><span class="line">        <span class="keyword">var</span> name = status_info.name;</span><br><span class="line">        <span class="keyword">var</span> code = status_info.code;</span><br><span class="line">        <span class="keyword">var</span> value = status_info.value;</span><br><span class="line">        <span class="keyword">var</span> old_sn = status_info.sort;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">            <span class="comment">// 指定請求方式，預設為GET</span></span><br><span class="line">            type: <span class="string">'POST'</span>,</span><br><span class="line">            <span class="comment">// 將要發送的請求URL位址</span></span><br><span class="line">            url: <span class="string">'jquery_ajax.php'</span>,</span><br><span class="line">            <span class="comment">// 定義將要發送給請求位址的資料</span></span><br><span class="line">            data:&#123;</span><br><span class="line">                <span class="comment">// 定義事件處理代碼</span></span><br><span class="line">                event:<span class="string">'status_change'</span>,</span><br><span class="line">                <span class="comment">// 資料庫狀態欄位的編號</span></span><br><span class="line">                id:id,</span><br><span class="line">                <span class="comment">// 資料庫狀態欄位的姓名</span></span><br><span class="line">                name:name,</span><br><span class="line">                <span class="comment">// 資料庫狀態欄位的代碼</span></span><br><span class="line">                code:code,</span><br><span class="line">                <span class="comment">// 資料庫狀態欄位的值，最後一筆，不得加上","，以免出錯</span></span><br><span class="line">                value:value</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;).done(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            <span class="comment">// data為發送請求後所傳回的值</span></span><br><span class="line">            <span class="comment">// JSON.parse(jsonString): 在一個字串中解析出JSON物件</span></span><br><span class="line">            <span class="keyword">var</span> obj=<span class="built_in">JSON</span>.parse(data);</span><br><span class="line">            <span class="keyword">if</span>( obj.result == <span class="string">'error'</span> )&#123;</span><br><span class="line">                alert(<span class="string">'更新失敗：'</span>+obj.message);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">// 更換按鈕class的顏色</span></span><br><span class="line">                now_btn.removeClass(<span class="string">'btn_'</span>+old_sn).addClass(<span class="string">'btn_'</span>+obj.sort);</span><br><span class="line">                <span class="comment">// 以下將按鈕的值及data做變更</span></span><br><span class="line">                status_info.id = obj.id;</span><br><span class="line">                status_info.name = obj.name;</span><br><span class="line">                status_info.value = obj.value;</span><br><span class="line">                status_info.sort = obj.sort;</span><br><span class="line">                now_btn.data(<span class="string">'status'</span>,status_info);</span><br><span class="line">                now_btn.text(obj.name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>備註： </p>
<ul>
<li>JSON.parse(jsonString): 在一個字串中解析出JSON物件</li>
<li>JSON.stringify(obj) : 將一個JSON物件轉換成字串</li>
</ul>
<h3 id="Ajax動作命令後端作執行程序，結果回傳到Ajax-jquery-ajax-php"><a href="#Ajax動作命令後端作執行程序，結果回傳到Ajax-jquery-ajax-php" class="headerlink" title="Ajax動作命令後端作執行程序，結果回傳到Ajax (jquery_ajax.php)"></a>Ajax動作命令後端作執行程序，結果回傳到Ajax (jquery_ajax.php)</h3><p>其實為什麼要做一個獨立的後端PHP檔，其實當一個專案如果有共同需要做AJAX的程序時，可以將後端部分寫在這裡，以方便做管理。</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="comment">// 引入資料庫設定檔</span></span><br><span class="line">    <span class="keyword">require_once</span> <span class="string">"config.php"</span>;</span><br><span class="line">    <span class="comment">// 接收前端做的請求</span></span><br><span class="line">    <span class="keyword">switch</span>( $_REQUEST[<span class="string">'event'</span>] )&#123;</span><br><span class="line">        <span class="comment">//快速切換單選</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">'status_change'</span>:</span><br><span class="line">            <span class="comment">// 請求所提供的資料做一個變數存取</span></span><br><span class="line">            $id = $_REQUEST[<span class="string">'id'</span>];</span><br><span class="line">            $name = $_REQUEST[<span class="string">'name'</span>];</span><br><span class="line">            $code = $_REQUEST[<span class="string">'code'</span>];</span><br><span class="line">            $btn_value = $_REQUEST[<span class="string">'value'</span>];</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 所指定的資料庫</span></span><br><span class="line">            $table = <span class="string">"basic_option_value"</span>;</span><br><span class="line">            $sql = <span class="string">'SELECT * FROM '</span>.$table.<span class="string">' WHERE group_code="account_status" and status="1"'</span>;</span><br><span class="line">            $DB = $DB_LINK-&gt;query($sql);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>($row = $DB-&gt;fetch_assoc())&#123;</span><br><span class="line">                $result[] = $row;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            $sn = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 將所有狀態陣列做一個迴圈</span></span><br><span class="line">            <span class="keyword">foreach</span>( $result <span class="keyword">as</span> $key =&gt; $value)&#123;</span><br><span class="line">                <span class="comment">// 當迴圈走到最後時，會做。</span></span><br><span class="line">                <span class="keyword">if</span>( !<span class="keyword">isset</span>($first_value) )&#123;</span><br><span class="line">                    $first_id = $value[<span class="string">"id"</span>];</span><br><span class="line">                    $first_value = $value[<span class="string">"value"</span>];</span><br><span class="line">                    $first_name = $value[<span class="string">"name"</span>];</span><br><span class="line">                    $first_sort = $value[<span class="string">"sort"</span>];</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 第二次會在這裡做給值，給值完會跳出迴圈。(EX:未啟用)</span></span><br><span class="line">                <span class="keyword">if</span>( <span class="keyword">isset</span>($next_option) &amp;&amp; $next_option == <span class="string">'next'</span> )&#123;</span><br><span class="line">                    $next_id = $value[<span class="string">"id"</span>];</span><br><span class="line">                    $next_value = $value[<span class="string">"value"</span>];</span><br><span class="line">                    $next_name = $value[<span class="string">"name"</span>];</span><br><span class="line">                    $next_sort = $value[<span class="string">"sort"</span>];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">unset</span>($result[$key]);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 第一次基本上會在這裡做進入。(EX:啟用)</span></span><br><span class="line">                <span class="comment">// 判斷前端的請求值是否相等，相等會將 $next_option給予值</span></span><br><span class="line">                <span class="keyword">if</span>( $value[<span class="string">'value'</span>] == $btn_value )&#123;</span><br><span class="line">                    <span class="keyword">if</span>( count($result) &gt; <span class="number">0</span> )&#123;</span><br><span class="line">                        $next_option = <span class="string">'next'</span>;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        $next_value = $first_value;</span><br><span class="line">                        $next_name = $first_name;</span><br><span class="line">                        $next_id = $first_id;</span><br><span class="line">                        $next_sort = $first_sort;</span><br><span class="line">                        $sn = <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                $sn++;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 假設狀態群裡面只有一種狀態情況，會有無法對應的值。</span></span><br><span class="line">            <span class="keyword">if</span>( !<span class="keyword">isset</span>($next_value) )&#123; </span><br><span class="line">                <span class="keyword">echo</span> json_encode(</span><br><span class="line">                    <span class="keyword">array</span>(</span><br><span class="line">                        <span class="string">'result'</span>=&gt;<span class="string">'error'</span>,</span><br><span class="line">                        <span class="string">'message'</span>=&gt;<span class="string">'無對應value'</span>)</span><br><span class="line">                    );</span><br><span class="line">                <span class="keyword">exit</span>; </span><br><span class="line">            &#125;</span><br><span class="line">           </span><br><span class="line">           <span class="comment">// 將下一組的值做編譯、且回傳結果到前端。</span></span><br><span class="line">            <span class="keyword">echo</span> json_encode(<span class="keyword">array</span>(</span><br><span class="line">                                    <span class="string">'result'</span>=&gt;<span class="string">'success'</span>,</span><br><span class="line">                                    <span class="string">'id'</span> =&gt; $next_id,</span><br><span class="line">                                    <span class="string">'value'</span>=&gt;$next_value, </span><br><span class="line">                                    <span class="string">'name'</span>=&gt;$next_name, </span><br><span class="line">                                    <span class="string">'sort'</span> =&gt; $next_sort,</span><br><span class="line">                                    )</span><br><span class="line">                                );</span><br><span class="line"></span><br><span class="line">            <span class="keyword">exit</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://i.imgur.com/caisM7e.gif" alt=""></p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>上面的小範例可能沒有寫的那麼好，但也只是展現JSON可以做其他的應用，讓大家可以更活用JSON，若上方有不太能理解的地方，歡迎大家寄信或留言一起研究及更正，讓更多人可以受惠。</p>
<h6 id="標籤-w3HexSchool-Json-PHP"><a href="#標籤-w3HexSchool-Json-PHP" class="headerlink" title="標籤: w3HexSchool Json PHP"></a>標籤: <code>w3HexSchool</code> <code>Json</code> <code>PHP</code></h6></div><div class="post-copyright"><blockquote><p>原文作者: Sian</p><p>原文鏈接: <a href="https://dew31794.github.io/2020/02/28/JSON的奧秘與應用時機(Part 4)/">https://dew31794.github.io/2020/02/28/JSON的奧秘與應用時機(Part 4)/</a></p><p>版權聲明: 轉載請註明出處(必須保留作者署名及鏈接)</p></blockquote></div><div class="tags"><a href="/tags/w3HexSchool/">w3HexSchool</a><a href="/tags/Json/">Json</a><a href="/tags/PHP/">PHP</a></div><div class="post-share"></div><div class="post-nav"><a href="/2020/03/08/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%201)/" class="pre">遇見 Laravel 的午後(Part 1)</a><a href="/2020/02/23/JSON%E7%9A%84%E5%A5%A7%E7%A7%98%E8%88%87%E6%87%89%E7%94%A8%E6%99%82%E6%A9%9F(Part%203)/" class="next">JSON的奧秘與應用時機(Part 3)</a></div><div id="comments"><div id="container"><script type="text/javascript" src="https://unpkg.com/gitalk/dist/gitalk.min.js?v=2.0.4"></script><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=2.0.4"></script><script>var gitalk = new Gitalk({
  clientID: 'edd3d64b97e77965fa56',
  clientSecret: 'c62a4e0a719dcead27ec56efcaab400f89ef6107',
  repo: 'blog-comments',
  owner: 'dew31794',
  admin: ['dew31794'],
  id: md5(window.location.pathname),
  distractionFreeMode: false,
  language: 'zh-TW',
  pagerDirection: 'last'
})
gitalk.render('container')</script></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目錄</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#起手式"><span class="toc-text">起手式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#建立資料庫"><span class="toc-text">建立資料庫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#建立整個網頁的檔案"><span class="toc-text">建立整個網頁的檔案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端程式的布局"><span class="toc-text">前端程式的布局</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#製作HTML頁面-index-php"><span class="toc-text">製作HTML頁面 (index.php)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#套用表格所需的樣式-style-css"><span class="toc-text">套用表格所需的樣式(style.css)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#後端程式的處理"><span class="toc-text">後端程式的處理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#建立資料庫連線-config-php"><span class="toc-text">建立資料庫連線(config.php)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#載入HTML頁面前的程序-user-php"><span class="toc-text">載入HTML頁面前的程序(user.php)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#前端與後端程式的聯絡"><span class="toc-text">前端與後端程式的聯絡</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#建立按鈕的AJAX動作-style-js"><span class="toc-text">建立按鈕的AJAX動作 (style.js)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ajax-不專業的解說"><span class="toc-text">$.ajax()不專業的解說</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ajax動作命令後端作執行程序，結果回傳到Ajax-jquery-ajax-php"><span class="toc-text">Ajax動作命令後端作執行程序，結果回傳到Ajax (jquery_ajax.php)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#結論"><span class="toc-text">結論</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#標籤-w3HexSchool-Json-PHP"><span class="toc-text">標籤: w3HexSchool Json PHP</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/05/31/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%207)/">遇見 Laravel 的午後(Part 7)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/24/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%206)/">遇見 Laravel 的午後(Part 6)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/17/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%202%E7%95%AA%E5%A4%96%E7%AF%87%20PSR)/">遇見 Laravel 的午後(Part 2番外篇 PSR)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/05/02/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%205)/">遇見 Laravel 的午後(Part 5)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/19/%E9%96%8B%E7%99%BC%E5%B0%88%E6%A1%88%E5%BF%85%E9%A0%88%E5%AD%B8%E6%9C%83%E7%9A%84%E5%A5%97%E4%BB%B6%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7(NPM)/">開發專案必須學會的套件管理工具(NPM)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/05/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%204)/">遇見 Laravel 的午後(Part 4)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/29/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%203)/">遇見 Laravel 的午後(Part 3)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/22/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%201)-macOS/">遇見 Laravel 的午後(Part 1)-macOS</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/09/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%202)/">遇見 Laravel 的午後(Part 2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/08/%E9%81%87%E8%A6%8B%20Laravel%20%E7%9A%84%E5%8D%88%E5%BE%8C(Part%201)/">遇見 Laravel 的午後(Part 1)</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 標籤</i></div><div class="tagcloud"><a href="/tags/w3HexSchool/" style="font-size: 15px;">w3HexSchool</a> <a href="/tags/Json/" style="font-size: 15px;">Json</a> <a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/%E5%BB%A2%E6%96%87/" style="font-size: 15px;">廢文</a> <a href="/tags/Laravel/" style="font-size: 15px;">Laravel</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a> <a href="/tags/Laravel-7/" style="font-size: 15px;">Laravel 7</a> <a href="/tags/Composer/" style="font-size: 15px;">Composer</a> <a href="/tags/%E5%A5%97%E4%BB%B6%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" style="font-size: 15px;">套件管理工具</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 所有文章</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">15</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友站連結</i></div><ul></ul><a href="https://littlehorseboy.github.io/" title="小馬哥" target="_blank">小馬哥</a><ul></ul><a href="https://wadehuang1993.github.io/blog/" title="首任村長" target="_blank">首任村長</a><ul></ul><a href="https://ms314006.github.io/" title="神Ｑ超人" target="_blank">神Ｑ超人</a><ul></ul><a href="https://yeeinhole.github.io/" title="Master Yee" target="_blank">Master Yee</a><ul></ul><a href="https://fm0fm0.github.io/blog/" title="圈圈" target="_blank">圈圈</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">網站地圖</a> |  <a href="/atom.xml">訂閱本站</a> |  <a href="/about/">聯繫博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Sian.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.4"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.4" async></script></body></html>